# このリポジトリについて

WASA（23代～）のパイロット＋追走者用スマホアプリ。鳥人間コンテスト2024で使用

# Features
* C++ Only
* HTTP通信でマイコンからデータを取得（データ形式はJSON）
* サーバーにデータをアップロード（要SIM）
* 機速、高度、ペラ回転数、飛行距離（琵琶湖のみ）を表示
* 4隅に9軸の角度を色で表示
* 地図表示（現在地、軌跡付き）（SIMは不要）。現状は琵琶湖、富士川滑空場、大利根飛行場に対応
* 機速、または姿勢角が基準値を超えると警報音を出力
* サーバー側から風速計のデータ表示
* 内部ストレージにログをcsvとして保存（要書き込み権限）

# 操作方法
画面を1秒以上長押しすると、その時触れていた指の数に応じて次の処理が行われます
* 1本→飛行経路の軌跡を削除
* 2本→ログ記録開始（または終了）。同時に現在の姿勢角を基準角とする
* 3本→マップ変更

# Libraries
* [ＤＸライブラリ（描画系）](https://dxlib.xsrv.jp/index.html)
* [Json for Modern C++（JSON管理用）](https://github.com/nlohmann/json)
* [cpp-httplib（HTTP通信用）](https://github.com/yhirose/cpp-httplib)

# 原案者
* [水本幸希（23代電装班長）](https://github.com/21km43)

# Contributer
* （24代電装班員）
* （24代電装班員）

# Bugs
* マイコンと接続時、アプリが稀に落ちる（Jsonか通信の問題？）
  * 一定時間毎に自動でアプリを起動するマクロタスクを常駐させることで対応中
* 琵琶湖プラットホーム周辺では電波が混雑しているため、ボート上の追走者はマイコンと通信できない模様。3km過ぎたあたりから通信できるようになった。

# Any questions
このリポジトリから連絡いただいても大丈夫ですが、原案者の[Twitter](https://twitter.com/21km43)にDMを送ってくれるとすぐに対応できると思います。
